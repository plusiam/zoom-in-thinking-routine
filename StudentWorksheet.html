<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="styles.css">
    <script>
      var step = 0;
      function revealNext() {
        step++;
        var overlay = document.getElementById('overlay');
        var percent = Math.max(0, 100 - step * 20);
        overlay.style.clipPath = 'inset(0 ' + percent + '% 0 0)';
      }
      function submitAnswer() {
        var answer = document.getElementById('answer').value;
        google.script.run.saveResponse(step, answer);
        document.getElementById('answer').value = '';
      }
    </script>
  </head>
  <body>
    <div id="image-container" style="position:relative;width:500px;">
      <img id="image" src="https://via.placeholder.com/500" style="width:100%;">
      <div id="overlay" style="position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ccc;clip-path:inset(0 100% 0 0);"></div>
    </div>
    <div class="controls">
      <button onclick="revealNext()">Reveal</button>
      <textarea id="answer" placeholder="Your observation"></textarea>
      <button onclick="submitAnswer()">Submit</button>
    </div>
  </body>
</html>
